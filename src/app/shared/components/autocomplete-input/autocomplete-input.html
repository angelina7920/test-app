<div tabindex="0" class="autocomplete">
  <div class="autocomplete-base">
    <input
      type="search"
      placeholder="Search..."
      [ngModel]="value()"
      (ngModelChange)="onChange($event)"
      (focus)="onFocus()"
      (blur)="onBlur()"
    />
  </div>

  @if (hasFocus() && options().length) {
    <div class="autocomplete-dropdown">
      <ul>
        @for (option of options(); track option) {
          <li
            role="option"
            (mousedown)="$event.preventDefault()"
            (click)="onChange(option)"
            [class.selected]="option === value()"
          >
            {{ option }}
          </li>
        }
      </ul>
    </div>
  }
</div>
